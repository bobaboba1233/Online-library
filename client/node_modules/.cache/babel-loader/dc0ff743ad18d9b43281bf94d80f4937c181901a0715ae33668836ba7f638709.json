{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0431\\u043E\\u0433\\u0434\\u0430\\u043D\\\\Documents\\\\GitHub\\\\Online-library\\\\client\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport '../styles/Profile.css';\nimport Header from '../components/Header';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  var _userData$subscriptio, _userData$subscriptio2;\n  const [userData, setUserData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [subscribing, setSubscribing] = useState(false);\n  const [selectedPlan, setSelectedPlan] = useState(null);\n  const [showPlans, setShowPlans] = useState(false);\n  const [editingField, setEditingField] = useState(null);\n  const [editValue, setEditValue] = useState('');\n  const [isUpdating, setIsUpdating] = useState(false);\n  const navigate = useNavigate();\n  const subscriptionPlans = [{\n    id: 'month',\n    name: '1 месяц',\n    price: '299 ₽',\n    duration: 1,\n    description: 'Доступ ко всем книгам на 1 месяц',\n    popular: false\n  }, {\n    id: '3months',\n    name: '3 месяца',\n    price: '799 ₽',\n    duration: 3,\n    description: 'Экономия 15% по сравнению с помесячной оплатой',\n    popular: true\n  }, {\n    id: 'year',\n    name: '1 год',\n    price: '2 999 ₽',\n    duration: 12,\n    description: 'Экономия 30% по сравнению с помесячной оплатой',\n    popular: false\n  }];\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          navigate('/auth');\n          return;\n        }\n        const response = await axios.get('http://localhost:5000/api/auth/profile', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setUserData(response.data);\n      } catch (error) {\n        console.error('Ошибка загрузки профиля:', error);\n        localStorage.removeItem('token');\n        navigate('/auth');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, [navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n  };\n  const handleSubscribe = async () => {\n    if (subscribing || !selectedPlan) return;\n    setSubscribing(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post('http://localhost:5000/api/user/subscribe', {\n        duration: selectedPlan.duration\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUserData(prev => ({\n        ...prev,\n        subscription: response.data.subscription\n      }));\n      setShowPlans(false);\n      setSelectedPlan(null);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Ошибка оформления подписки:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Не удалось оформить подписку');\n    } finally {\n      setSubscribing(false);\n    }\n  };\n  const handleCancelSubscription = async () => {\n    if (!window.confirm('Вы уверены, что хотите отменить подписку?')) return;\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post('http://localhost:5000/api/user/unsubscribe', {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUserData(prev => ({\n        ...prev,\n        subscription: {\n          ...prev.subscription,\n          isActive: false\n        }\n      }));\n      alert('Подписка успешно отменена');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Ошибка отмены подписки:', error);\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Не удалось отменить подписку');\n    }\n  };\n  const startEditing = field => {\n    setEditingField(field);\n    setEditValue(userData[field]);\n  };\n  const cancelEditing = () => {\n    setEditingField(null);\n    setEditValue('');\n  };\n  const saveChanges = async () => {\n    if (!editValue.trim()) return;\n    setIsUpdating(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.put('http://localhost:5000/api/user/profile;', {\n        [editingField]: editValue\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUserData(response.data);\n      setEditingField(null);\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Ошибка обновления профиля:', error);\n      alert(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Не удалось обновить данные');\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      isLoggedIn: !!userData,\n      userData: userData,\n      onAuthClick: () => navigate('/auth')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: () => navigate(-1),\n          children: \"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), userData && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: userData.avatar || '/default-avatar.png',\n                alt: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0418\\u043C\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), editingField === 'username' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: editValue,\n                    onChange: e => setEditValue(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: saveChanges,\n                    disabled: isUpdating,\n                    className: \"save-btn\",\n                    children: isUpdating ? '...' : '✓'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: cancelEditing,\n                    disabled: isUpdating,\n                    className: \"cancel-btn\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field-value\",\n                  children: [userData.username, /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => startEditing('username'),\n                    className: \"edit-btn\",\n                    children: \"\\u270F\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this), editingField === 'email' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-field\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    value: editValue,\n                    onChange: e => setEditValue(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: saveChanges,\n                    disabled: isUpdating,\n                    className: \"save-btn\",\n                    children: isUpdating ? '...' : '✓'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: cancelEditing,\n                    disabled: isUpdating,\n                    className: \"cancel-btn\",\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"field-value\",\n                  children: [userData.email, /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => startEditing('email'),\n                    className: \"edit-btn\",\n                    children: \"\\u270F\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), ' ', new Date(userData.createdAt).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), ' ', (_userData$subscriptio = userData.subscription) !== null && _userData$subscriptio !== void 0 && _userData$subscriptio.isActive ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"active-badge\",\n                    children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 25\n                  }, this), \" \\u0434\\u043E \", new Date(userData.subscription.endDate).toLocaleDateString()]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inactive-badge\",\n                  children: \"\\u041D\\u0435 \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), (_userData$subscriptio2 = userData.subscription) !== null && _userData$subscriptio2 !== void 0 && _userData$subscriptio2.isActive ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancelSubscription,\n            className: \"cancel-subscription-btn\",\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: !showPlans ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowPlans(true),\n              className: \"subscribe-btn\",\n              children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u043A\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"subscription-plans\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"plans-grid\",\n                children: subscriptionPlans.map(plan => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `plan-card ${(selectedPlan === null || selectedPlan === void 0 ? void 0 : selectedPlan.id) === plan.id ? 'selected' : ''} ${plan.popular ? 'popular' : ''}`,\n                  onClick: () => setSelectedPlan(plan),\n                  children: [plan.popular && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"popular-badge\",\n                    children: \"\\u0412\\u044B\\u0433\\u043E\\u0434\\u043D\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 46\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: plan.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"plan-price\",\n                    children: plan.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"plan-description\",\n                    children: plan.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 29\n                  }, this), (selectedPlan === null || selectedPlan === void 0 ? void 0 : selectedPlan.id) === plan.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"selected-check\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 31\n                  }, this)]\n                }, plan.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"plan-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setShowPlans(false);\n                    setSelectedPlan(null);\n                  },\n                  className: \"cancel-plan-btn\",\n                  children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSubscribe,\n                  className: \"confirm-subscribe-btn\",\n                  disabled: !selectedPlan || subscribing,\n                  children: subscribing ? 'Оформление...' : 'Подписаться'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 21\n            }, this)\n          }, void 0, false)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Profile, \"cMAsmgmwvTRrKbh8Ohe9oE+spc8=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","_userData$subscriptio","_userData$subscriptio2","userData","setUserData","loading","setLoading","subscribing","setSubscribing","selectedPlan","setSelectedPlan","showPlans","setShowPlans","editingField","setEditingField","editValue","setEditValue","isUpdating","setIsUpdating","navigate","subscriptionPlans","id","name","price","duration","description","popular","fetchProfile","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","removeItem","handleLogout","handleSubscribe","post","prev","subscription","_error$response","_error$response$data","alert","message","handleCancelSubscription","window","confirm","isActive","_error$response2","_error$response2$data","startEditing","field","cancelEditing","saveChanges","trim","put","_error$response3","_error$response3$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isLoggedIn","onAuthClick","onClick","src","avatar","alt","type","value","onChange","e","target","disabled","username","email","Date","createdAt","toLocaleDateString","endDate","map","plan","_c","$RefreshReg$"],"sources":["C:/Users/богдан/Documents/GitHub/Online-library/client/src/pages/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/Profile.css';\r\nimport Header from '../components/Header';\r\n\r\nconst Profile = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [subscribing, setSubscribing] = useState(false);\r\n  const [selectedPlan, setSelectedPlan] = useState(null);\r\n  const [showPlans, setShowPlans] = useState(false);\r\n  const [editingField, setEditingField] = useState(null);\r\n  const [editValue, setEditValue] = useState('');\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const subscriptionPlans = [\r\n    {\r\n      id: 'month',\r\n      name: '1 месяц',\r\n      price: '299 ₽',\r\n      duration: 1,\r\n      description: 'Доступ ко всем книгам на 1 месяц',\r\n      popular: false\r\n    },\r\n    {\r\n      id: '3months',\r\n      name: '3 месяца',\r\n      price: '799 ₽',\r\n      duration: 3,\r\n      description: 'Экономия 15% по сравнению с помесячной оплатой',\r\n      popular: true\r\n    },\r\n    {\r\n      id: 'year',\r\n      name: '1 год',\r\n      price: '2 999 ₽',\r\n      duration: 12,\r\n      description: 'Экономия 30% по сравнению с помесячной оплатой',\r\n      popular: false\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          navigate('/auth');\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get('http://localhost:5000/api/auth/profile', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setUserData(response.data);\r\n      } catch (error) {\r\n        console.error('Ошибка загрузки профиля:', error);\r\n        localStorage.removeItem('token');\r\n        navigate('/auth');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    navigate('/');\r\n  };\r\n\r\n  const handleSubscribe = async () => {\r\n    if (subscribing || !selectedPlan) return;\r\n    setSubscribing(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.post(\r\n        'http://localhost:5000/api/user/subscribe',\r\n        { duration: selectedPlan.duration },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n      \r\n      setUserData(prev => ({\r\n        ...prev,\r\n        subscription: response.data.subscription\r\n      }));\r\n      setShowPlans(false);\r\n      setSelectedPlan(null);\r\n    } catch (error) {\r\n      console.error('Ошибка оформления подписки:', error);\r\n      alert(error.response?.data?.message || 'Не удалось оформить подписку');\r\n    } finally {\r\n      setSubscribing(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelSubscription = async () => {\r\n    if (!window.confirm('Вы уверены, что хотите отменить подписку?')) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      await axios.post(\r\n        'http://localhost:5000/api/user/unsubscribe',\r\n        {},\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n      \r\n      setUserData(prev => ({\r\n        ...prev,\r\n        subscription: { ...prev.subscription, isActive: false }\r\n      }));\r\n      alert('Подписка успешно отменена');\r\n    } catch (error) {\r\n      console.error('Ошибка отмены подписки:', error);\r\n      alert(error.response?.data?.message || 'Не удалось отменить подписку');\r\n    }\r\n  };\r\n\r\n  const startEditing = (field) => {\r\n    setEditingField(field);\r\n    setEditValue(userData[field]);\r\n  };\r\n\r\n  const cancelEditing = () => {\r\n    setEditingField(null);\r\n    setEditValue('');\r\n  };\r\n\r\n  const saveChanges = async () => {\r\n    if (!editValue.trim()) return;\r\n    \r\n    setIsUpdating(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.put(\r\n        'http://localhost:5000/api/user/profile;',\r\n        { [editingField]: editValue },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        }\r\n      );\r\n      \r\n      setUserData(response.data);\r\n      setEditingField(null);\r\n    } catch (error) {\r\n      console.error('Ошибка обновления профиля:', error);\r\n      alert(error.response?.data?.message || 'Не удалось обновить данные');\r\n    } finally {\r\n      setIsUpdating(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\">Загрузка...</div>;\r\n\r\n  return (\r\n    <>\r\n      <Header \r\n        isLoggedIn={!!userData} \r\n        userData={userData}\r\n        onAuthClick={() => navigate('/auth')}\r\n      />\r\n\r\n      <div className=\"profile-container\">\r\n        <div className=\"profile-card\">\r\n          <button className=\"back-btn\" onClick={() => navigate(-1)}>\r\n            ← Назад\r\n          </button>\r\n\r\n          <h2>Мой профиль</h2>\r\n\r\n          {userData && (\r\n            <>\r\n              <div className=\"profile-info\">\r\n                <div className=\"profile-avatar\">\r\n                  <img\r\n                    src={userData.avatar || '/default-avatar.png'}\r\n                    alt=\"Аватар\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"profile-details\">\r\n                  <div className=\"profile-field\">\r\n                    <strong>Имя:</strong>\r\n                    {editingField === 'username' ? (\r\n                      <div className=\"edit-field\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editValue}\r\n                          onChange={(e) => setEditValue(e.target.value)}\r\n                        />\r\n                        <button \r\n                          onClick={saveChanges} \r\n                          disabled={isUpdating}\r\n                          className=\"save-btn\"\r\n                        >\r\n                          {isUpdating ? '...' : '✓'}\r\n                        </button>\r\n                        <button \r\n                          onClick={cancelEditing} \r\n                          disabled={isUpdating}\r\n                          className=\"cancel-btn\"\r\n                        >\r\n                          ×\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"field-value\">\r\n                        {userData.username}\r\n                        <button \r\n                          onClick={() => startEditing('username')} \r\n                          className=\"edit-btn\"\r\n                        >\r\n                          ✏️\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"profile-field\">\r\n                    <strong>Email:</strong>\r\n                    {editingField === 'email' ? (\r\n                      <div className=\"edit-field\">\r\n                        <input\r\n                          type=\"email\"\r\n                          value={editValue}\r\n                          onChange={(e) => setEditValue(e.target.value)}\r\n                        />\r\n                        <button \r\n                          onClick={saveChanges} \r\n                          disabled={isUpdating}\r\n                          className=\"save-btn\"\r\n                        >\r\n                          {isUpdating ? '...' : '✓'}\r\n                        </button>\r\n                        <button \r\n                          onClick={cancelEditing} \r\n                          disabled={isUpdating}\r\n                          className=\"cancel-btn\"\r\n                        >\r\n                          ×\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"field-value\">\r\n                        {userData.email}\r\n                        <button \r\n                          onClick={() => startEditing('email')} \r\n                          className=\"edit-btn\"\r\n                        >\r\n                          ✏️\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <p>\r\n                    <strong>Дата регистрации:</strong>{' '}\r\n                    {new Date(userData.createdAt).toLocaleDateString()}\r\n                  </p>\r\n                  <p>\r\n                    <strong>Подписка:</strong>{' '}\r\n                    {userData.subscription?.isActive ? (\r\n                      <>\r\n                        <span className=\"active-badge\">Активна</span> до {new Date(userData.subscription.endDate).toLocaleDateString()}\r\n                      </>\r\n                    ) : (\r\n                      <span className=\"inactive-badge\">Не активна</span>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {userData.subscription?.isActive ? (\r\n                <button\r\n                  onClick={handleCancelSubscription}\r\n                  className=\"cancel-subscription-btn\"\r\n                >\r\n                  Отменить подписку\r\n                </button>\r\n              ) : (\r\n                <>\r\n                  {!showPlans ? (\r\n                    <button\r\n                      onClick={() => setShowPlans(true)}\r\n                      className=\"subscribe-btn\"\r\n                    >\r\n                      Оформить подписку\r\n                    </button>\r\n                  ) : (\r\n                    <div className=\"subscription-plans\">\r\n                      <h3>Выберите тариф</h3>\r\n                      <div className=\"plans-grid\">\r\n                        {subscriptionPlans.map(plan => (\r\n                          <div \r\n                            key={plan.id}\r\n                            className={`plan-card ${selectedPlan?.id === plan.id ? 'selected' : ''} ${plan.popular ? 'popular' : ''}`}\r\n                            onClick={() => setSelectedPlan(plan)}\r\n                          >\r\n                            {plan.popular && <div className=\"popular-badge\">Выгодно</div>}\r\n                            <h4>{plan.name}</h4>\r\n                            <div className=\"plan-price\">{plan.price}</div>\r\n                            <p className=\"plan-description\">{plan.description}</p>\r\n                            {selectedPlan?.id === plan.id && (\r\n                              <div className=\"selected-check\">✓</div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n\r\n                      <div className=\"plan-actions\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setShowPlans(false);\r\n                            setSelectedPlan(null);\r\n                          }}\r\n                          className=\"cancel-plan-btn\"\r\n                        >\r\n                          Назад\r\n                        </button>\r\n                        <button\r\n                          onClick={handleSubscribe}\r\n                          className=\"confirm-subscribe-btn\"\r\n                          disabled={!selectedPlan || subscribing}\r\n                        >\r\n                          {subscribing ? 'Оформление...' : 'Подписаться'}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          <button onClick={handleLogout} className=\"logout-btn\">\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}